<label
  x-data="{
    valid: false,
    completed: false,
  }"
  for="email"
  class="relative block bg-light"
>
  <input
    id="email"
    class="block w-full outline-none peer component pl-9"
    type="email"
    required
    placeholder="Email address"
    @input="valid = inputChange($el); completed = false"
    @blur="completed = completeInput($el)"
    @invalid="showError($el)"
  />

  <svg
    class="absolute w-3 h-3 ml-4 text-black transform -translate-y-1/2 inset-y-1/2 peer-placeholder-shown:text-gray"
    viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 2c2.757 0 5 2.243 5 5.001 0 2.756-2.243 5-5 5s-5-2.244-5-5c0-2.758 2.243-5.001 5-5.001zm0-2c-3.866 0-7 3.134-7 7.001 0 3.865 3.134 7 7 7s7-3.135 7-7c0-3.867-3.134-7.001-7-7.001zm6.369 13.353c-.497.498-1.057.931-1.658 1.302 2.872 1.874 4.378 5.083 4.972 7.346h-19.387c.572-2.29 2.058-5.503 4.973-7.358-.603-.374-1.162-.811-1.658-1.312-4.258 3.072-5.611 8.506-5.611 10.669h24c0-2.142-1.44-7.557-5.631-10.647z"/>
  </svg>

  <div
    x-show="valid"
    class="absolute inset-y-0 right-0 flex items-center pr-4 text-sm leading-5 text-green"
  >
    <svg
      class="w-4 h-4"
      viewBox="0 0 24 24"
    >
      <path
        fill="currentColor"
        d="M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z"
      />
    </svg>
  </div>

  <!-- <div class="absolute inset-y-0 right-0 flex items-center pr-6 text-sm leading-5 scale-150">
    <svg class="w-2 h-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"/>
    </svg>
  </div> -->

  <div
    class="transition-all duration-100"
    :class="completed ? 'w-full' : valid ? 'w-2/3' : 'w-0'"
  >
    <div
      class="h-px bg-green"
    ></div>
  </div>
</label>
