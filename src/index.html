<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body>
    <section class="flex flex-col">
      <div class="w-1/6 mx-auto my-10">
        <img
          src="./images/abler-logo.svg"
          alt="Home Logo"
        >
      </div>

      <form
        id="form"
        action=""
        method="post"
        x-data="{
          ...$store.behavior_methods,
          ...$store.data
        }"
        @submit.prevent="submit"
      >

        <h3
          class="text-base h-10 px-4"
          x-text="inputs.email.error ? 'Oops!' : inputs.password.error ? 'Wrong password' : 'Welcome'"
        ></h3>

        <label
          x-init="email = inputs.email",
          for="email"
          class="block bg-gray-100"
        >
          <input
            id="email"
            class="block w-full outline-none component"
            type="email"
            placeholder="Email address"
            x-model="email.value"
            @input="inputChange($el)"
            @blur="completeInput($el)"
          />

          <div :class="email.completed ? 'w-full' : email.value ? 'w-2/3' : 'w-0'">
            <div
              :class="email.error ? 'bg-red-300' : 'bg-green-300'"
              class="h-px"
            ></div>
          </div>
        </label>

        <label
          x-data="password = inputs.password"
          for="password"
          class="block bg-gray-100"
        >
          <input
            id="password"
            class="block w-full outline-none component"
            type="password"
            placeholder="Password"
            x-model="password.value"
            @input="inputChange($el)"
            @blur="completeInput($el)"
          />

          <div :class="password.completed ? 'w-full' : password.value ? 'w-2/3' : 'w-0'">
            <div
              :class="password.error ? 'bg-red-300' : 'bg-green-300'"
              class="h-px"
            ></div>
          </div>
        </label>


        <div x-data="{ ...$store.condition_methods }" class="flex justify-between component">
          <button
            class="text-xs text-gray"
          >
            Forgot Password
          </button>

          <button
            type="submit"
            x-text="isAnyPropertyTrue('error') ? 'Retry' : isAnyPropertyTrue('completed') ? 'Log in' : 'Login'"
            :class="{
              'btn-warn': isAnyPropertyTrue('error'),
              'btn-ok': isAnyPropertyTrue('completed') && !isAnyPropertyTrue('error'),
              'btn': !isAnyPropertyTrue('error') && !isAnyPropertyTrue('completed')
            }"
            class="text-xs border-solid border py-1 px-4 rounded-xl"
          ></button>
        </div>
      </form>
    </section>
  </body>
  <script src="index.js"></script>
</html>
